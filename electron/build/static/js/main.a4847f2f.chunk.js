(this.webpackJsonpnoted=this.webpackJsonpnoted||[]).push([[0],{186:function(e,t,a){e.exports=a(322)},191:function(e,t,a){},192:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(44),l=a.n(o),c=(a(191),a(171)),u=a(10),i=(a(192),a(335)),s=Object(n.createContext)(),m=a(336),d=a(61),p=function(){var e=Object(n.useContext)(s).onLogout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(m.a.Column,{floated:"right",width:6},r.a.createElement(d.a.Group,null,r.a.createElement(d.a,{as:"a",color:"black",content:"Click here for the repository",href:"https://github.com/AhmedAlihashi/noted",target:"_blank",rel:"noopener noreferrer"}),r.a.createElement(d.a,{as:"a",color:"grey",content:"Log Out",onClick:function(){return e()}}),r.a.createElement(d.a,{as:"a",icon:"power off",color:"red",onClick:function(){window.close()}})))))},v=a(13),b=a.n(v),f=a(24),h=a(17),E=a(332),g=a(14),O=a(83),w=O.apps.length?O.app():O.initializeApp({apiKey:"AIzaSyAyICImbLgzOPfjatWrhb5M0bo8fxh4nuQ",authDomain:"noted-55f73.firebaseapp.com",databaseURL:"https://noted-55f73.firebaseio.com",projectId:"noted-55f73",storageBucket:"noted-55f73.appspot.com",messagingSenderId:"405755323077",appId:"1:405755323077:web:9d4e464807654c4c37c6ac",measurementId:"G-YXMJP7FPBP"}),j=(a(296),a(161)),y=a.n(j),C=w.firestore(),k=function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.collection("User Notes: ".concat(t)),e.next=3,a.get();case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(g.a)({nid:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(b.a.mark((function e(t,a,n,r){var o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=C.collection("User Notes: ".concat(t)),e.next=3,o.add({nid:Date.now(),title:a,content:n,importance:r,date:y()().format("llll")});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),x=a(333),I=function(){var e=Object(n.useContext)(s).notes;return r.a.createElement(i.a,{className:"NoteInput",inverted:!0,style:{width:"100%",maxHeight:"65vh",overflowY:"scroll",backgroundColor:"#FDD543"}},e.map((function(e,t){return r.a.createElement(i.a,{raised:!0,key:t,style:{backgroundColor:"#C9BF77"}},r.a.createElement(d.a,{color:"Lv.1"===e.importance?"grey":"Lv.2"===e.importance?"blue":"Lv.3"===e.importance?"orange":"Lv.4"===e.importance?"red":null,attached:"top right",content:e.importance}),r.a.createElement(d.a,{size:"tiny",color:"black",attached:"bottom left",content:e.date}),r.a.createElement(x.a,{header:e.title,description:e.content,style:{marginTop:20,marginBottom:20,backgroundColor:"#F2F2EF"}}))})))},S=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),c=Object(h.a)(l,2),u=c[0],d=c[1],p=Object(n.useState)(null),v=Object(h.a)(p,2),g=v[0],O=v[1],w=Object(n.useContext)(s),j=w.uid,y=w.loadNotes,C=w.notes,k=g,x=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(j,a,u,k).then((function(){return y()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement("p",{id:"title"},"Noted")),r.a.createElement(m.a,null,r.a.createElement(m.a.Column,{width:10},r.a.createElement(i.a,{raised:!0,style:{backgroundColor:"#DDBA3B"}},r.a.createElement(E.a,null,r.a.createElement(E.a.Input,{label:"Title",value:a,placeholder:"Title",onChange:function(e,t){var a=t.value;return o(a)}}),r.a.createElement(E.a.Group,{inline:!0},r.a.createElement("label",null,"Level of importance"),r.a.createElement(E.a.Radio,{label:"Lv.1",value:"Lv.1",checked:"Lv.1"===g,onChange:function(e,t){var a=t.value;return O(a)}}),r.a.createElement(E.a.Radio,{label:"Lv.2",value:"Lv.2",checked:"Lv.2"===g,onChange:function(e,t){var a=t.value;return O(a)}}),r.a.createElement(E.a.Radio,{label:"Lv.3",value:"Lv.3",checked:"Lv.3"===g,onChange:function(e,t){var a=t.value;return O(a)}}),r.a.createElement(E.a.Radio,{label:"Lv.4",value:"Lv.4",checked:"Lv.4"===g,onChange:function(e,t){var a=t.value;return O(a)}})),r.a.createElement(E.a.TextArea,{label:"Content",value:u,placeholder:"Enter your note here",onChange:function(e,t){var a=t.value;return d(a)}}),r.a.createElement(E.a.Button,{color:"black",onClick:function(){return x()}},"Submit")))),r.a.createElement(m.a.Column,{width:6},C&&r.a.createElement(I,null))))},N=a(323),T=a(337),R=function(e){return!e||e.length<=0?"Email cannot be empty.":/\S+@\S+\.\S+/.test(e)?"":"Ooops! We need a valid email address."},A=function(e){return!e||e.length<=0?"Password cannot be empty.":""},D=(a(152),function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,r=t.password,e.prev=1,e.next=4,w.auth().createUserWithEmailAndPassword(n,r).then((function(e){return w.firestore().collection("users").doc(e.user.uid).set({name:a,email:n})}));case 4:return w.auth().currentUser.updateProfile({displayName:a}),e.abrupt("return",{});case 8:e.prev=8,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?13:"auth/invalid-email"===e.t1?14:"auth/weak-password"===e.t1?15:"auth/too-many-requests"===e.t1?16:17;break;case 13:return e.abrupt("return",{error:"E-mail already in use."});case 14:return e.abrupt("return",{error:"Invalid e-mail address format."});case 15:return e.abrupt("return",{error:"Password is too weak."});case 16:return e.abrupt("return",{error:"Too many request. Try again in a minute."});case 17:return e.abrupt("return",{error:"Check your internet connection."});case 18:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),G=function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,w.auth().signInWithEmailAndPassword(a,n);case 4:return e.abrupt("return",{});case 7:e.prev=7,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?12:"auth/user-not-found"===e.t1||"auth/wrong-password"===e.t1?13:"auth/too-many-requests"===e.t1?14:15;break;case 12:return e.abrupt("return",{error:"Invalid email address format."});case 13:return e.abrupt("return",{error:"Invalid email address or password."});case 14:return e.abrupt("return",{error:"Too many request. Try again in a minute."});case 15:return e.abrupt("return",{error:"Check your internet connection."});case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),P=a(174),_=a(331),F=function(e){var t=e.errorText,a=Object(P.a)(e,["errorText"]);return r.a.createElement("div",null,r.a.createElement(_.a,a),t?r.a.createElement("p",null,t):null)},B=a(22),U=new(window.require("electron-store")),W=function(e,t){return U.set(e,t)},q=Object(B.a)({basename:window.location.pathname}),z=function(){var e=Object(n.useState)({value:"",error:""}),t=Object(h.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({value:"",error:""}),c=Object(h.a)(l,2),u=c[0],s=c[1],d=Object(n.useState)(!1),p=Object(h.a)(d,2),v=p[0],E=p[1],O=Object(n.useState)(),w=Object(h.a)(O,2),j=w[0],y=w[1],C=function(){var e=Object(f.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R(a.value),n=A(u.value),(t||n)&&(o(Object(g.a)(Object(g.a)({},a),{},{error:t})),s(Object(g.a)(Object(g.a)({},u),{},{error:n}))),E(!0),e.next=6,G({email:a.value,password:u.value});case 6:(r=e.sent).error?(y(r.error),E(!1)):(W("email",a.value),W("password",u.value),q.push("/"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j&&""!==a.value&&""!==u.value&&(o({value:"",error:""}),s({value:"",error:""}),setTimeout((function(){return y(null)}),500)),r.a.createElement(i.a,null,r.a.createElement(T.a,{as:"h2",content:"Login"}),r.a.createElement(m.a,null,r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,null,j&&r.a.createElement("p",null,j),r.a.createElement(F,{type:"email",value:a.value,placeholder:"Email",onChange:function(e,t){var a=t.value;return o({value:a,error:""})}}))),r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,null,r.a.createElement(F,{type:"password",value:u.value,placeholder:"Password",onChange:function(e,t){var a=t.value;return s({value:a,error:""})}}))),r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,null,r.a.createElement(N.a,{loading:v,mode:"contained",onClick:function(){C()}},"Login")))))},J=function(){var e=Object(n.useState)({value:"",error:""}),t=Object(h.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({value:"",error:""}),c=Object(h.a)(l,2),u=c[0],s=c[1],d=Object(n.useState)(!1),p=Object(h.a)(d,2),v=p[0],E=p[1],O=Object(n.useState)(),w=Object(h.a)(O,2),j=w[0],y=w[1],C=function(){var e=Object(f.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R(a.value),n=A(u.value),(t||n)&&(o(Object(g.a)(Object(g.a)({},a),{},{error:t})),s(Object(g.a)(Object(g.a)({},u),{},{error:n}))),E(!0),e.next=6,D({email:a.value,password:u.value});case 6:(r=e.sent).error&&(y(r.error),E(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j&&""!==a.value&&""!==u.value&&(o({value:"",error:""}),s({value:"",error:""}),setTimeout((function(){return y(null)}),500)),r.a.createElement(i.a,null,r.a.createElement(T.a,{as:"h2",content:"Register"}),r.a.createElement(m.a,null,r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,null,j&&r.a.createElement("p",null,j),r.a.createElement(F,{type:"email",placeholder:"Email",value:a.value,onChange:function(e,t){var a=t.value;return o({value:a,error:""})}}))),r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,null,r.a.createElement(F,{type:"password",placeholder:"Password",value:u.value,onChange:function(e,t){var a=t.value;return s({value:a,error:""})}}))),r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,null,r.a.createElement(N.a,{loading:v,mode:"contained",onClick:function(){C()}},"Sign Up")))))},M=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(h.a)(l,2),u=c[0],i=c[1];return r.a.createElement(m.a,null,r.a.createElement("p",{id:"title"},"Noted"),r.a.createElement(m.a.Column,{floated:"right",width:4},r.a.createElement(N.a,{toggle:!0,color:"black",active:a,content:"Login",onClick:function(){return u&&i(!1),o(!a)}}),r.a.createElement(N.a,{toggle:!0,color:"black",active:u,content:"Register",onClick:function(){return a&&o(!1),i(!u)}})),r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Column,{width:16},u&&r.a.createElement(J,null),a&&r.a.createElement(z,null))))},Y=function(){var e=Object(n.useContext)(s).loggedIn;return r.a.createElement(c.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-background"},r.a.createElement(i.a,{className:"MainCard",inverted:!0,style:{backgroundColor:e?"#FDD543":"#E8ECFF"}},e&&r.a.createElement(p,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},e?r.a.createElement(S,null):r.a.createElement(u.a,{to:"/login"})),r.a.createElement(u.b,{path:"/login",component:M},e?r.a.createElement(u.a,{to:"/"}):r.a.createElement(M,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(321);var H=function(e,t){var a=t.type,n=t.payload;switch(a){case"LOGGED_IN":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!0,uid:n.uid});case"NOT_LOGGED_IN":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!1});case"LOG_OUT":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!1,uid:null,notes:null,notesLoaded:!1});case"LOAD_NOTES":return Object(g.a)(Object(g.a)({},e),{},{notes:n,notesLoaded:!0});default:return e}},K=a(113),Q=a.n(K),X=function(e){var t=Object(n.useReducer)(H,{loggedIn:null,uid:null,notes:null,notesLoaded:!1}),a=Object(h.a)(t,2),o=a[0],l=a[1],c=o.loggedIn,u=o.uid,i=o.notesLoaded,m=function(){return k(u).then((function(e){return l({type:"LOAD_NOTES",payload:e.sort((function(e,t){return e.nid<t.nid?1:-1}))})}))},d=Object(n.useCallback)(m,[u]);Object(n.useEffect)((function(){p(),!i&&c&&d()}),[c,d,i]);var p=function(){return Q.a.auth().onAuthStateChanged((function(e){return l(e?{type:"LOGGED_IN",payload:{uid:e.uid,username:Q.a.auth().currentUser.displayName}}:{type:"NOT_LOGGED_IN"})}))};return r.a.createElement(s.Provider,{value:{uid:o.uid,loggedIn:o.loggedIn,notes:o.notes,notesLoaded:o.notesLoaded,loadNotes:m,onLogout:function(){w.auth().signOut(),l({type:"LOG_OUT"})}}},e.children)};l.a.render(r.a.createElement(X,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[186,1,2]]]);
//# sourceMappingURL=main.a4847f2f.chunk.js.map