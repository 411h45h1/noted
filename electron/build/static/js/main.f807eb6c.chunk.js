(this.webpackJsonpnoted=this.webpackJsonpnoted||[]).push([[0],{189:function(e,t,a){e.exports=a(329)},194:function(e,t,a){},195:function(e,t,a){},329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(44),l=a.n(o),c=(a(194),a(174)),u=a(11),i=(a(195),a(157)),s=Object(i.createMedia)({breakpoints:{mobile:320,tablet:768,computer:992,largeScreen:1400,widescreen:1920}}),m=(s.createMediaStyle(),s.Media),d=s.MediaContextProvider,p=a(343),v=a(342),f=Object(n.createContext)(),b=a(61),E=function(){var e=Object(n.useContext)(f).onLogout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Column,{floated:"right",width:6},r.a.createElement(b.a.Group,null,r.a.createElement(b.a,{as:"a",color:"black",content:"Click here for the repository",href:"https://github.com/AhmedAlihashi/noted",target:"_blank",rel:"noopener noreferrer"}),r.a.createElement(b.a,{as:"a",color:"grey",content:"Log Out",onClick:function(){return e()}}),r.a.createElement(b.a,{as:"a",icon:"power off",color:"red",onClick:function(){window.close()}})))))},h=a(340),g=function(){var e=Object(n.useContext)(f),t=e.uid,a=e.notes,o=e.removeNote;return a&&a.map((function(e,a){return r.a.createElement(p.a.Column,{key:a},r.a.createElement(v.a,{raised:!0,style:{backgroundColor:"#C9BF77"}},e.importance&&r.a.createElement(b.a,{color:"Lv.1"===e.importance?"grey":"Lv.2"===e.importance?"blue":"Lv.3"===e.importance?"orange":"Lv.4"===e.importance?"red":null,attached:"top right",content:e.importance}),r.a.createElement(b.a,{as:"a",size:"tiny",attached:"top left",content:"\u274c",onClick:function(){return o(t,e.nid)},style:{backgroundColor:"#C9BF77"}}),r.a.createElement(b.a,{size:"tiny",color:"black",attached:"bottom left",content:e.date}),r.a.createElement(h.a,{header:e.title,description:e.content,style:{marginTop:20,marginBottom:30,backgroundColor:"#F2F2EF"}})))}))},w=a(10),O=a.n(w),j=a(22),C=a(17),y=a(339),k=a(14),L=a(84),x=L.apps.length?L.app():L.initializeApp({apiKey:"AIzaSyAyICImbLgzOPfjatWrhb5M0bo8fxh4nuQ",authDomain:"noted-55f73.firebaseapp.com",databaseURL:"https://noted-55f73.firebaseio.com",projectId:"noted-55f73",storageBucket:"noted-55f73.appspot.com",messagingSenderId:"405755323077",appId:"1:405755323077:web:9d4e464807654c4c37c6ac",measurementId:"G-YXMJP7FPBP"}),S=(a(304),a(164)),T=a.n(S),I=x.firestore(),D=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.collection("User Notes: ".concat(t)),e.next=3,a.get();case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return Object(k.a)({nid:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(O.a.mark((function e(t,a,n,r){var o,l,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=I.collection("User Notes: ".concat(t)),l=Date.now(),e.next=4,o.doc("".concat(l)).set({nid:l,title:a,content:n,importance:r,date:T()().format("llll")});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I.collection("User Notes: ".concat(t)),e.next=3,n.doc("".concat(a)).delete();case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(e){var t=e.contentRows,a=e.size,o=Object(n.useState)(""),l=Object(C.a)(o,2),c=l[0],u=l[1],i=Object(n.useState)(""),s=Object(C.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)(null),b=Object(C.a)(p,2),E=b[0],h=b[1],g=Object(n.useContext)(f),w=E,k=function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(L,c,m,w).then((function(){return x()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=g.uid,x=g.loadNotes;return r.a.createElement(v.a,{raised:!0,style:{backgroundColor:"#DDBA3B"}},r.a.createElement(y.a,{size:a},r.a.createElement(y.a.Input,{label:"Title",value:c,placeholder:"Title",onChange:function(e,t){var a=t.value;return u(a)}}),r.a.createElement(y.a.Group,{inline:!0},r.a.createElement("label",null,"Level of importance"),r.a.createElement(y.a.Radio,{label:"Lv.1",value:"Lv.1",checked:"Lv.1"===E,onChange:function(e,t){var a=t.value;return h(a)}}),r.a.createElement(y.a.Radio,{label:"Lv.2",value:"Lv.2",checked:"Lv.2"===E,onChange:function(e,t){var a=t.value;return h(a)}}),r.a.createElement(y.a.Radio,{label:"Lv.3",value:"Lv.3",checked:"Lv.3"===E,onChange:function(e,t){var a=t.value;return h(a)}}),r.a.createElement(y.a.Radio,{label:"Lv.4",value:"Lv.4",checked:"Lv.4"===E,onChange:function(e,t){var a=t.value;return h(a)}})),r.a.createElement(y.a.TextArea,{rows:t,label:"Content",value:m,placeholder:"Enter your note here",onChange:function(e,t){var a=t.value;return d(a)}}),r.a.createElement(y.a.Button,{color:"black",onClick:function(){return k()}},"Submit")))},F=function(e){var t=e.col;return r.a.createElement(v.a,{fluid:!0,inverted:!0,style:{marginTop:10,marginBottom:20,minHeight:"20vh",maxHeight:"25vh",overflowY:"scroll",backgroundColor:"#FDD543"}},r.a.createElement(p.a,{columns:t},r.a.createElement(g,null)))},G=function(e){var t=e.col;return r.a.createElement(v.a,{fluid:!0,inverted:!0,style:{maxHeight:"65vh",overflowY:"scroll",backgroundColor:"#FDD543"}},r.a.createElement(p.a,{columns:t},r.a.createElement(g,null)))},P=function(e){var t=e.col;return r.a.createElement(v.a,{fluid:!0,inverted:!0,style:{maxHeight:"65vh",overflowY:"scroll",backgroundColor:"#FDD543"}},r.a.createElement(p.a,{columns:t},r.a.createElement(g,null)))},z=function(e){var t=e.col;return r.a.createElement(v.a,{fluid:!0,inverted:!0,style:{maxHeight:"65vh",overflowY:"scroll",backgroundColor:"#FDD543"}},r.a.createElement(p.a,{columns:t},r.a.createElement(g,null)))},B=function(e){var t=e.col;return r.a.createElement(v.a,{fluid:!0,inverted:!0,style:{maxHeight:"65vh",overflowY:"scroll",backgroundColor:"#FDD543"}},r.a.createElement(p.a,{columns:t},r.a.createElement(g,null)))},_=function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("p",{id:"title"},"Noted")),r.a.createElement(p.a,null,r.a.createElement(p.a.Row,null,r.a.createElement(p.a.Column,{as:m,at:"mobile",width:16},r.a.createElement(A,{size:"large",contentRows:1})),r.a.createElement(p.a.Column,{as:m,at:"mobile",width:16},r.a.createElement(F,{col:1})),r.a.createElement(p.a.Column,{as:m,at:"tablet",width:9},r.a.createElement(A,{size:"large",contentRows:3})),r.a.createElement(p.a.Column,{as:m,at:"tablet",width:7},r.a.createElement(G,{col:1})),r.a.createElement(p.a.Column,{as:m,at:"computer",width:7},r.a.createElement(A,{size:"large",contentRows:3})),r.a.createElement(p.a.Column,{as:m,at:"computer",width:9},r.a.createElement(P,{col:2})),r.a.createElement(p.a.Column,{as:m,at:"largeScreen",width:6},r.a.createElement(A,{size:"big",contentRows:3})),r.a.createElement(p.a.Column,{as:m,at:"largeScreen",width:9},r.a.createElement(z,{col:3})),r.a.createElement(p.a.Column,{as:m,greaterThan:"largeScreen",width:6},r.a.createElement(A,{size:"big",contentRows:5})),r.a.createElement(p.a.Column,{as:m,greaterThan:"largeScreen",width:10},r.a.createElement(B,{col:4})))))},U=a(330),H=a(344),M=function(e){return!e||e.length<=0?"Email cannot be empty.":/\S+@\S+\.\S+/.test(e)?"":"Ooops! We need a valid email address."},W=function(e){return!e||e.length<=0?"Password cannot be empty.":""},Y=(a(154),function(){var e=Object(j.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,r=t.password,e.prev=1,e.next=4,x.auth().createUserWithEmailAndPassword(n,r).then((function(e){return x.firestore().collection("users").doc(e.user.uid).set({name:a,email:n})}));case 4:return x.auth().currentUser.updateProfile({displayName:a}),e.abrupt("return",{});case 8:e.prev=8,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?13:"auth/invalid-email"===e.t1?14:"auth/weak-password"===e.t1?15:"auth/too-many-requests"===e.t1?16:17;break;case 13:return e.abrupt("return",{error:"E-mail already in use."});case 14:return e.abrupt("return",{error:"Invalid e-mail address format."});case 15:return e.abrupt("return",{error:"Password is too weak."});case 16:return e.abrupt("return",{error:"Too many request. Try again in a minute."});case 17:return e.abrupt("return",{error:"Check your internet connection."});case 18:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),q=function(){var e=Object(j.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,x.auth().signInWithEmailAndPassword(a,n);case 4:return e.abrupt("return",{});case 7:e.prev=7,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?12:"auth/user-not-found"===e.t1||"auth/wrong-password"===e.t1?13:"auth/too-many-requests"===e.t1?14:15;break;case 12:return e.abrupt("return",{error:"Invalid email address format."});case 13:return e.abrupt("return",{error:"Invalid email address or password."});case 14:return e.abrupt("return",{error:"Too many request. Try again in a minute."});case 15:return e.abrupt("return",{error:"Check your internet connection."});case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),J=a(177),K=a(338),Q=function(e){var t=e.errorText,a=Object(J.a)(e,["errorText"]);return r.a.createElement("div",null,r.a.createElement(K.a,a),t?r.a.createElement("p",null,t):null)},X=a(23),$=new(window.require("electron-store")),V=function(e){return $.get(e)},Z=function(e,t){return $.set(e,t)},ee=Object(X.a)({basename:window.location.pathname}),te=function(){var e=Object(n.useState)({value:"",error:""}),t=Object(C.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({value:"",error:""}),c=Object(C.a)(l,2),u=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(C.a)(s,2),d=m[0],f=m[1],b=Object(n.useState)(),E=Object(C.a)(b,2),h=E[0],g=E[1];Object(n.useEffect)((function(){V("email")&&V("password")&&(o({value:V("email"),error:""}),i({value:V("password"),error:""}))}),[]);var w=function(){var e=Object(j.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M(a.value),n=W(u.value),(t||n)&&(o(Object(k.a)(Object(k.a)({},a),{},{error:t})),i(Object(k.a)(Object(k.a)({},u),{},{error:n}))),f(!0),e.next=6,q({email:a.value,password:u.value});case 6:(r=e.sent).error?(g(r.error),f(!1)):(Z("email",a.value),Z("password",u.value),ee.push("/"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h&&""!==a.value&&""!==u.value&&(o({value:"",error:""}),i({value:"",error:""}),setTimeout((function(){return g(null)}),500)),r.a.createElement(p.a,{centered:!0},r.a.createElement(v.a,{style:{textAlign:"center"}},r.a.createElement(H.a,{as:"h2",content:"Login"}),r.a.createElement(p.a.Column,null,h&&r.a.createElement("p",null,h),r.a.createElement(Q,{type:"email",value:a.value,placeholder:"Email",onChange:function(e,t){var a=t.value;return o({value:a,error:""})}})),r.a.createElement(p.a.Column,null,r.a.createElement(Q,{type:"password",value:u.value,placeholder:"Password",onChange:function(e,t){var a=t.value;return i({value:a,error:""})},style:{marginTop:10}})),r.a.createElement(p.a.Column,null,r.a.createElement(U.a,{loading:d,mode:"contained",onClick:function(){w()},style:{marginTop:10}},"Login"))))},ae=function(){var e=Object(n.useState)({value:"",error:""}),t=Object(C.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({value:"",error:""}),c=Object(C.a)(l,2),u=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(C.a)(s,2),d=m[0],f=m[1],b=Object(n.useState)(),E=Object(C.a)(b,2),h=E[0],g=E[1],w=function(){var e=Object(j.a)(O.a.mark((function e(){var t,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M(a.value),n=W(u.value),(t||n)&&(o(Object(k.a)(Object(k.a)({},a),{},{error:t})),i(Object(k.a)(Object(k.a)({},u),{},{error:n}))),f(!0),e.next=6,Y({email:a.value,password:u.value});case 6:(r=e.sent).error&&(g(r.error),f(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h&&""!==a.value&&""!==u.value&&(o({value:"",error:""}),i({value:"",error:""}),setTimeout((function(){return g(null)}),500)),r.a.createElement(p.a,{centered:!0},r.a.createElement(v.a,{style:{textAlign:"center"}},r.a.createElement(H.a,{as:"h2",content:"Register"}),r.a.createElement(p.a.Column,null,h&&r.a.createElement("p",null,h),r.a.createElement(Q,{type:"email",placeholder:"Email",value:a.value,onChange:function(e,t){var a=t.value;return o({value:a,error:""})},style:{marginTop:10}})),r.a.createElement(p.a.Column,null,r.a.createElement(Q,{type:"password",placeholder:"Password",value:u.value,onChange:function(e,t){var a=t.value;return i({value:a,error:""})},style:{marginTop:10}})),r.a.createElement(p.a.Column,null,r.a.createElement(U.a,{loading:d,mode:"contained",onClick:function(){w()},style:{marginTop:10}},"Sign Up"))))},ne=function(){var e=Object(n.useState)(!1),t=Object(C.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(C.a)(l,2),u=c[0],i=c[1];return r.a.createElement(p.a,null,r.a.createElement(p.a.Row,null,r.a.createElement(p.a.Column,{width:16},r.a.createElement(U.a.Group,{floated:"right"},r.a.createElement(U.a,{toggle:!0,color:"black",active:a,content:"Login",onClick:function(){return u&&i(!1),o(!a)}}),r.a.createElement(U.a,{toggle:!0,color:"black",active:u,content:"Register",onClick:function(){return a&&o(!1),i(!u)}}))),r.a.createElement("p",{id:"title"},"Noted"),r.a.createElement(p.a.Column,{width:16},u&&r.a.createElement(ae,null),a&&r.a.createElement(te,null))))},re=function(){var e=Object(n.useContext)(f).loggedIn;return console.log("H",window.innerHeight,"w",window.innerWidth),r.a.createElement(c.a,{basename:"/"},r.a.createElement(d,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{centered:!0,columns:1},r.a.createElement(p.a.Column,null,r.a.createElement(v.a,{className:"MainCard",inverted:!0,style:{backgroundColor:e?"#FDD543":"#E8ECFF"}},e&&r.a.createElement(E,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},e?r.a.createElement(_,null):r.a.createElement(u.a,{to:"/login"})),r.a.createElement(u.b,{path:"/login",component:ne},e?r.a.createElement(u.a,{to:"/"}):r.a.createElement(ne,null))))," ")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(328);var oe=function(e,t){var a=t.type,n=t.payload;switch(a){case"LOGGED_IN":return Object(k.a)(Object(k.a)({},e),{},{loggedIn:!0,uid:n.uid});case"NOT_LOGGED_IN":return Object(k.a)(Object(k.a)({},e),{},{loggedIn:!1});case"LOG_OUT":return Object(k.a)(Object(k.a)({},e),{},{loggedIn:!1,uid:null,notes:null,notesLoaded:!1});case"LOAD_NOTES":return Object(k.a)(Object(k.a)({},e),{},{notes:n,notesLoaded:!0});default:return e}},le=a(114),ce=a.n(le),ue=function(e){var t=Object(n.useReducer)(oe,{loggedIn:null,uid:null,notes:null,notesLoaded:!1}),a=Object(C.a)(t,2),o=a[0],l=a[1],c=o.loggedIn,u=o.uid,i=o.notesLoaded,s=function(){return D(u).then((function(e){return l({type:"LOAD_NOTES",payload:e.sort((function(e,t){return e.nid<t.nid?1:-1}))})}))},m=Object(n.useCallback)(s,[u]);Object(n.useEffect)((function(){d(),!i&&c&&m()}),[c,m,i]);var d=function(){return ce.a.auth().onAuthStateChanged((function(e){return l(e?{type:"LOGGED_IN",payload:{uid:e.uid,username:ce.a.auth().currentUser.displayName}}:{type:"NOT_LOGGED_IN"})}))};return r.a.createElement(f.Provider,{value:{uid:o.uid,loggedIn:o.loggedIn,notes:o.notes,notesLoaded:o.notesLoaded,loadNotes:s,onLogout:function(){x.auth().signOut(),l({type:"LOG_OUT"})},removeNote:function(e,t){return R(e,t).then((function(){return m()}))}}},e.children)};l.a.render(r.a.createElement(ue,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.f807eb6c.chunk.js.map